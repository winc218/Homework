# 1.总结每种单例写法的优、缺点。
## 1.饿汉式
### 优点：
1. 程序启动的时候就实例化好了对象。避免了多线程环境下创建多个实例的问题。
### 缺点：
1. 不管使不使用都要创建实例，占用内存空间。
2. 不能避免序列化、反序列化方式创建新的实例。
3. 不能避免通过反射创建实例。

## 2.懒汉式
### 优点：
1. 程序在需要的时候，再创建实例，减少了不必要的内存开销。
2. 通过double-check写法，保证性能的情况下，线程安全。
3. 使用内部静态类的方式，可以从JVM层面保证线程安全，写法也简单。

### 缺点：
1. 同饿汉模式，一般写法情况下，不能避免通过反序列化方式创建新实例。
2. 一般写法情况下，不能避免通过反射创建新实例。
3. 一般写法情况下，多线程环境，会创建多个实例。
4. 通过synchronized、single-check后，多线程环境下，性能下降严重。
5. double-check写法的代码相对复杂。

## 3.注册式
### 优点：
1. 使用spring容器式的方式，实际是懒汉式的实例创建方式，减少了不必要的内存开销。
2. 可以同时管理多个类的单例对象。
3. 多线程环境下，线程安全，且性能高。
4. 采用枚举来创建单例，天生线程安全、防反序列化。

### 缺点：
1. 容器需要优先实例化，占用内存空间
2. 代码较其他方式复杂。

# 2.思考破坏单例模式的方式有哪些？并且归纳总结。
1. 通过反射获取私有化的构造函数创建实例。
2. 如果单例某些情况下实现了Serializable接口，可以通过序列化后再反序列化可以通过默认构造函数创建实例。
3. 如果单例某些情况下实现了Cloneable接口，可以通过调用clone方法复制一个对象。

# 3.梳理内部类的执行逻辑，并画出时序图。